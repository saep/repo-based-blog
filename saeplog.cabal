name:               saeplog
version:            0.0.1
synopsis:           Personal blogging software
-- description:
license:            BSD3
license-file:       LICENSE
author:             Sebastian Witte
maintainer:         woozletoff@gmail.com
-- copyright:
category:           Web
build-type:         Simple
extra-source-files: README.md
cabal-version:      >=1.10

executable saeplog
  main-is:              Main.hs
  hs-source-dirs:       executable
  -- other-modules:
  build-depends:        base >=4.6 && <4.7,
                        transformers,
                        happstack-server,
                        saeplog,
                        optparse-applicative
  hs-source-dirs:       executable
  default-language:     Haskell2010
  ghc-options:          -threaded -O

library
  hs-source-dirs:       library
  ghc-options:          -threaded -O
  default-language:     Haskell2010

  build-depends:        base >=4.6 && <4.7,
                        acid-state,
                        blaze-html,
                        containers,
                        directory,
                        exceptions,
                        filepath,
                        filestore,
                        happstack-server,
                        mtl,
                        old-locale,
                        pandoc,
                        safecopy,
                        text,
                        time,
                        transformers,
                        transformers-compat

  exposed-modules:      Web.Saeplog.Templates.Saep,
                        Web.Saeplog.Server,
                        Web.Saeplog.Blog

  other-modules:        Web.Saeplog.Blog.Crawler,
                        Web.Saeplog.Blog.Converter,
                        Web.Saeplog.Blog.State,
                        Web.Saeplog.Blog.Types

test-suite hspec
  type:                 exitcode-stdio-1.0
  hs-source-dirs:       test-suite, library
  main-is:              Spec.hs
  default-language:     Haskell2010
  build-depends:        base >=4.6 && <4.7,
                        saeplog,

                        hspec ==1.*,
                        QuickCheck,

                        blaze-html,
                        time,
                        containers,
                        filepath,
                        directory,
                        filestore,
                        transformers,
                        transformers-compat

  cpp-options:          -DHTEST
  ghc-options:          -threaded -rtsopts -with-rtsopts=-N
